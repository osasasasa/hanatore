# RevenueCat 実装設計ガイド

## 即日売上設計（Day 0 Revenue）

### Day 0 課金導線
- インストール→価値体験→課金までの最短到達時間を分単位で設計
- 目標：5分以内に価値を体感、10分以内にペイウォール到達

### オンボーディング内課金トリガー
- 初回体験中に「これは有料でも欲しい」と思わせるモーメントを設計
- 機能のプレビュー（有料機能の結果だけ見せる → フルアクセスは有料）

### 即決させる価格戦略
- 初回限定オファー（インストール後24時間以内の特別価格）
- 年額プランの初回提示（月額より年額を先に見せてアンカリング）
- トライアル開始のハードル最小化（ワンタップ開始）

### FOMO（見逃し不安）の活用
- 初回限定価格のカウントダウンタイマー
- 無料版の制限を早期に体感させる
- 「今始めないと損」の仕掛け

### ペイウォールパターン
- パターン1：オンボーディング完了直後のフルスクリーンペイウォール
- パターン2：コア機能を1回体験→2回目でペイウォール
- パターン3：機能制限型（基本無料、上位機能で課金）
- アプリの性質に応じてどのパターンが最適か判断

## Offering構成

### パッケージ設計例
```
Offering: default
├── Package: monthly    （月額プラン）
├── Package: annual     （年額プラン - 最も推したいプラン）
├── Package: lifetime   （買い切り - オプション）
└── Package: intro      （初回限定特別価格）
```

### 価格設計の原則
- 年額は月額の6〜8ヶ月分に設定（お得感を出す）
- 初回限定価格は通常の50〜70%
- 日本市場とグローバル市場で別価格を検討

## Entitlement設計

### 機能アクセス制御
```
Entitlement: "pro"
├── 有料機能A へのアクセス
├── 有料機能B へのアクセス
├── 広告非表示
└── 制限解除（回数制限など）
```

### 命名規則
- Entitlement名：`pro`, `premium`, `unlimited` など短くわかりやすく
- 将来の拡張を考慮（複数Entitlementへの分割可能性）

## Paywall UI

### RevenueCat Paywalls SDK vs カスタム
- **Paywalls SDK推奨の場合**：素早くA/Bテストしたい、デザインにこだわりが少ない
- **カスタム推奨の場合**：ブランド統一が重要、複雑なUI要件がある

### ペイウォール必須要素
- プラン比較表
- 価格の明示（月額換算も表示）
- トライアル期間の明示
- 「いつでもキャンセル可能」の表記
- 利用規約・プライバシーポリシーへのリンク
- 復元ボタン

## サブスクリプションライフサイクル

### トライアル→有料転換
- トライアル期間：3日 or 7日（アプリの性質で判断）
- トライアル終了前のリマインド通知
- トライアル中の価値提供を最大化

### 解約防止
- Grace Period（支払い猶予期間）の設定
- Billing Retry Logic の活用
- 解約フロー内でのリテンションオファー
- 解約理由の収集（RevenueCat + カスタム）

## Webhook設計

### サーバーサイド検証
- 購入の検証
- サブスクリプション状態の同期
- 解約・更新イベントの処理
- Entitlement状態のDB反映

## RevenueCat Experiments

### A/Bテスト設計
- テスト対象：価格、ペイウォールUI、トライアル期間、オファー内容
- 最低サンプルサイズの設定
- テスト期間の目安（最低2週間）
- 主要指標：転換率、ARPPU、LTV

## KPI設計

### Day 0 指標（最重要）
| KPI | 目標値 | 計測方法 |
|-----|--------|---------|
| インストール→初日課金率 | 3-8% | RevenueCat + Analytics |
| オンボーディング完了率 | 60-80% | カスタムイベント |
| ペイウォール表示→購入率 | 10-20% | RevenueCat |
| 初回限定オファー適用率 | 40-60% | RevenueCat Experiments |

### 継続指標
| KPI | 目標値 | 計測方法 |
|-----|--------|---------|
| Trial→有料転換率 | 40-60% | RevenueCat |
| 月次チャーンレート | <8% | RevenueCat |
| ARPPU | アプリによる | RevenueCat |
| LTV（12ヶ月） | CAC の 3倍以上 | RevenueCat |

### 収益指標
| KPI | 計測方法 |
|-----|---------|
| MRR | RevenueCat Dashboard |
| ARR | RevenueCat Dashboard |
| CAC上限 | LTV / 3 で逆算 |
