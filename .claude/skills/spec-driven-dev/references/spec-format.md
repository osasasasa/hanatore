# 仕様書フォーマット定義

## overview.md テンプレート

```markdown
# [プロジェクト名] 全体仕様

## プロジェクト概要
- 一言説明：
- ターゲットユーザー：
- 解決する課題：
- マネタイズモデル：

## 技術スタック
- フロントエンド：
- バックエンド：
- 課金基盤：
- 認証：

## MVP機能一覧
| # | 機能名 | 優先度 | 担当Agent | 仕様書 |
|---|--------|--------|----------|--------|
| 1 | ...    | Must   | Agent A  | features/auth.md |
| 2 | ...    | Must   | Agent B  | features/[core].md |

## やらないこと（スコープ外）
- ...

## 画面一覧
→ screens/screen-list.md を参照

## 非機能要件
- パフォーマンス目標：
- 対応OS/バージョン：
- オフライン対応：あり/なし
```

---

## features/*.md テンプレート

```markdown
# [機能名] 仕様書

## 基本情報
- 担当Agent：
- 関連画面：
- 依存する機能：
- 依存される機能：

## 目的
この機能がなぜ必要か。ユーザーにとっての価値。

## ユーザーストーリー
- [ ] ユーザーとして、[行動]したい。なぜなら[理由]だから。
- [ ] ユーザーとして、[行動]したい。なぜなら[理由]だから。

## 受け入れ条件（Acceptance Criteria）

### AC-1: [条件名]
- Given: [前提条件]
- When: [操作]
- Then: [期待結果]

### AC-2: [条件名]
- Given: [前提条件]
- When: [操作]
- Then: [期待結果]

## 画面仕様

### [画面名]
- 入力項目：
- 表示項目：
- アクション：
- 状態遷移：

## エッジケース・エラーケース
| ケース | 期待される動作 |
|--------|--------------|
| ... | ... |

## データ仕様
- 使用するテーブル/コレクション：
- 必要なAPI：

## テスト観点
- [ ] 正常系テスト：
- [ ] 異常系テスト：
- [ ] 境界値テスト：
```

---

## screens/screen-list.md テンプレート

```markdown
# 画面一覧

## ナビゲーション構造

### 認証前
1. スプラッシュ画面
2. オンボーディング（1/2/3）
3. ログイン/サインアップ

### 認証後（メインタブ）
1. ホーム
2. [機能タブ]
3. 設定

### モーダル/オーバーレイ
1. ペイウォール
2. [その他]

## 画面遷移図
（テキストベースの遷移図 or Mermaid記法）

## 画面詳細一覧
| # | 画面名 | パス | 担当Agent | 仕様書 |
|---|--------|------|----------|--------|
| 1 | ...    | /    | Agent A  | screens/home.md |
```

---

## screens/[screen-name].md テンプレート

```markdown
# [画面名] 画面仕様

## 基本情報
- パス：app/(tabs)/[name]
- 担当Agent：
- 関連機能仕様：features/[name].md

## レイアウト
（テキストベースのワイヤーフレーム or 構成要素リスト）

## コンポーネント構成
| コンポーネント | 型 | 説明 |
|--------------|-----|------|
| Header | shared | ... |
| [Component] | features/[name] | ... |

## 状態管理
| 状態 | 型 | 初期値 | 更新タイミング |
|------|-----|--------|--------------|
| ... | ... | ... | ... |

## インタラクション
| アクション | トリガー | 結果 |
|-----------|---------|------|
| ... | ボタンタップ | ... |

## ローディング/エラー/空状態
- ローディング中：
- エラー時：
- データなし時：
```

---

## api/database.md テンプレート

```markdown
# データベース仕様

## テーブル定義

### users
| カラム | 型 | NULL | デフォルト | 説明 |
|--------|-----|------|-----------|------|
| id | uuid | NO | gen_random_uuid() | PK |
| ... | ... | ... | ... | ... |

### subscriptions
| カラム | 型 | NULL | デフォルト | 説明 |
|--------|-----|------|-----------|------|
| ... | ... | ... | ... | ... |

## RLS（Row Level Security）ポリシー
- users: 自分のレコードのみ読み書き可
- ...

## インデックス
- ...
```

---

## shared/analytics-events.md テンプレート

```markdown
# アナリティクスイベント定義

## イベント一覧

### オンボーディング
| イベント名 | トリガー | パラメータ |
|-----------|---------|-----------|
| onboarding_start | オンボーディング開始 | step: number |
| onboarding_complete | オンボーディング完了 | duration_sec: number |

### 課金
| イベント名 | トリガー | パラメータ |
|-----------|---------|-----------|
| paywall_shown | ペイウォール表示 | source: string, variant: string |
| purchase_started | 購入開始 | product_id: string |
| purchase_completed | 購入完了 | product_id: string, price: number |

### コア機能
| イベント名 | トリガー | パラメータ |
|-----------|---------|-----------|
| ... | ... | ... |
```
